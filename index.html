<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="refresh" content="86400">
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        .news-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
        }
        .news-card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            padding: 20px;
            transition: transform 0.2s ease;
        }
        .news-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .news-title {
            font-size: 18px;
            margin-top: 0;
        }
        .news-source {
            color: #666;
            font-size: 14px;
            margin-bottom: 10px;
        }
        .company-tag {
            display: inline-block;
            background-color: #e0f7fa;
            color: #006064;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
        }
        .news-date {
            color: #888;
            font-size: 12px;
            margin-top: 10px;
        }
        .timestamp {
            text-align: left;
            color: #000000;
            font-size: 24px;
            margin-top: 0px;
        }
        a {
            color: #0066cc;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        /* Image thumbnail styles */
        .news-image {
            margin-bottom: 15px;
            max-height: 180px;
            overflow: hidden;
            border-radius: 6px;
        }
        .news-image img {
            width: 100%;
            height: 180px;
            object-fit: cover;
            display: block;
            transition: transform 0.3s ease;
        }
        .news-card:hover .news-image img {
            transform: scale(1.05);
        }
        
        /* Chatbot styles */
        .chatbot-container {
            position: fixed;
            top: 20px; /* Changed from bottom to top */
            right: 20px;
            width: 350px;
            height: calc(100vh - 40px); /* Changed to take up almost full viewport height */
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 25px rgba(0,0,0,0.2);
            display: flex;
            flex-direction: column;
            z-index: 1000;
            transition: transform 0.3s ease, opacity 0.3s ease;
            transform: translateX(110%); /* Changed from translateY to translateX */
            opacity: 0;
            overflow: hidden; /* Added to ensure no overflow */
        }
        
        .chatbot-container.active {
            transform: translateX(0); /* Changed from translateY to translateX */
            opacity: 1;
        }
        
        .chatbot-header {
            background-color: #0066cc;
            color: white;
            padding: 15px;
            border-radius: 10px 10px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .chatbot-title {
            font-weight: bold;
            margin: 0;
        }
        
        .chatbot-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            max-height: calc(100vh - 140px); /* Added to ensure scrolling works properly */
        }
        
        .message {
            margin-bottom: 10px;
            max-width: 80%;
            padding: 10px 15px;
            border-radius: 18px;
            line-height: 1.4;
        }
        
        .user-message {
            align-self: flex-end;
            background-color: #0066cc;
            color: white;
        }
        
        .bot-message {
            align-self: flex-start;
            background-color: #f1f1f1;
        }
        
        .chatbot-input {
            display: flex;
            padding: 10px;
            border-top: 1px solid #e0e0e0;
        }
        
        .chatbot-input input {
            flex: 1;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 20px;
            outline: none;
        }
        
        .chatbot-input button {
            background-color: #0066cc;
            color: white;
            border: none;
            border-radius: 20px;
            padding: 10px 15px;
            margin-left: 10px;
            cursor: pointer;
        }
        
        .chat-toggle-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background-color: #0066cc;
            color: white;
            border: none;
            border-radius: 50%;
            display: none; /* Changed from flex to none to hide initially */
            justify-content: center;
            align-items: center;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            z-index: 1001;
            opacity: 1;
            visibility: visible;
        }
        
        /* Adding a pulsing animation to make the chat button more noticeable */
        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 4px 8px rgba(0,0,0,0.2); }
            50% { transform: scale(1.05); box-shadow: 0 8px 16px rgba(0,0,0,0.3); }
            100% { transform: scale(1); box-shadow: 0 4px 8px rgba(0,0,0,0.2); }
        }
        
        .chat-toggle-button {
            animation: pulse 2s infinite;
        }
        
        .chat-toggle-button:hover {
            background-color: #0055bb;
        }

        .source-citation {
            font-size: 12px;
            color: #666;
            margin-top: 5px;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="news-grid">

    <div class="news-card">
        <span class="company-tag">Unaliwear</span>
        
        <h3 class="news-title">No news</h3>
        <div class="news-source"></div>
        <p></p>
        
    </div>
    
    <div class="news-card">
        <span class="company-tag">BrainCheck</span>
        
        <h3 class="news-title"><a href="https://pharmaphorum.com/news/healthee-heads-latest-crop-digital-health-financings" target="_blank">Healthee heads latest crop of digital health financings</a></h3>
        <div class="news-source">pharmaphorum</div>
        <p>Our latest round-up of funding rounds in the digital health category features updates from Healthee, Aktiia, Moxe Health, Eleanor Health, Tava Health, BrainCheck, and Redi Health. Healthee has ...</p>
        <div class="news-date">2025-03-26</div>
    </div>
    
    <div class="news-card">
        <span class="company-tag">Dermala</span>
        
        <h3 class="news-title">No news</h3>
        <div class="news-source"></div>
        <p></p>
        
    </div>
    
    <div class="news-card">
        <span class="company-tag">Oralucent</span>
        
        <h3 class="news-title">No news</h3>
        <div class="news-source"></div>
        <p></p>
        
    </div>
    
    <div class="news-card">
        <span class="company-tag">Flowly</span>
        
        <h3 class="news-title">No news</h3>
        <div class="news-source"></div>
        <p></p>
        
    </div>
    
    <div class="news-card">
        <span class="company-tag">Rosy Wellness</span>
        
        <h3 class="news-title">No news</h3>
        <div class="news-source"></div>
        <p></p>
        
    </div>
    
    <div class="news-card">
        <span class="company-tag">De Oro Devices</span>
        
        <h3 class="news-title">No news</h3>
        <div class="news-source"></div>
        <p></p>
        
    </div>
    
    <div class="news-card">
        <span class="company-tag">Partum Health</span>
        
        <h3 class="news-title">No news</h3>
        <div class="news-source"></div>
        <p></p>
        
    </div>
    
    <div class="news-card">
        <span class="company-tag">Fort Health</span>
        
        <h3 class="news-title">No news</h3>
        <div class="news-source"></div>
        <p></p>
        
    </div>
    
    <div class="news-card">
        <span class="company-tag">RubyWell</span>
        
        <h3 class="news-title">No news</h3>
        <div class="news-source"></div>
        <p></p>
        
    </div>
    
    <div class="news-card">
        <span class="company-tag">Atlantic Sea Farms</span>
        
        <h3 class="news-title">No news</h3>
        <div class="news-source"></div>
        <p></p>
        
    </div>
    
    <div class="news-card">
        <span class="company-tag">VidaFuel</span>
        
        <h3 class="news-title">No news</h3>
        <div class="news-source"></div>
        <p></p>
        
    </div>
    
    <div class="news-card">
        <span class="company-tag">Aloqia</span>
        
        <h3 class="news-title"><a href="https://www.msn.com/en-xl/news/other/shein-increases-use-of-deadstock-fabric-by-40-in-2024/ar-AA1CbCXN" target="_blank">Shein increases use of deadstock fabric by 40% in 2024</a></h3>
        <div class="news-source">MSN</div>
        <p>Since 2022, Shein has sourced over 47,900 metres of deadstock fabric through Aloqia, leading to estimated savings of 357,600 cubic metres of water, 7,400 kilograms of chemicals, and 70 metric tons ...</p>
        <div class="news-date">2025-04-03</div>
    </div>
    
    <div class="news-card">
        <span class="company-tag">Refiberd</span>
        
        <h3 class="news-title"><a href="https://www.msn.com/en-us/money/companies/ebay-invests-300k-in-refiberd-to-boost-circular-fashion-with-ai/ar-AA1CLdiz" target="_blank">eBay invests $300k in Refiberd to boost circular fashion with AI</a></h3>
        <div class="news-source">MSN</div>
        <p>eBay hopes the investment will enhance the reach of Refiberd&#x27;s advanced AI system, which can identify the composition of textiles to ensure proper sorting and recycling. Refiberd uses its ...</p>
        <div class="news-date">2025-04-11</div>
    </div>
    
    <div class="news-card">
        <span class="company-tag">Refiberd</span>
        
        <h3 class="news-title"><a href="https://www.businessinsider.com/artificial-intelligence-technology-sustainable-textile-recycling-solutions-2024-6" target="_blank">&#x27;What are your clothes made of?&#x27; is a deceptively difficult question. AI can help answer it.</a></h3>
        <div class="news-source">Business Insider</div>
        <p>AI can help enhance garment-sorting accuracy in the fashion industry. The company Refiberd uses AI and sensors to identify recyclable textiles that can be repurposed. This article is part of ...</p>
        <div class="news-date">2024-06-03</div>
    </div>
    
    <div class="news-card">
        <span class="company-tag">Jiminy&#x27;s</span>
        
        <h3 class="news-title"><a href="https://www.msn.com/en-us/lifestyle/shopping/6-eco-friendly-or-organic-dog-treats-from-our-pet-editor/ar-AA1oKxmO" target="_blank">6 Eco-Friendly or Organic Dog Treats from our Pet Editor</a></h3>
        <div class="news-source">MSN</div>
        <p>Does your dog chase bugs? Jiminy&#x27;s Cricket Treats are made with cricket protein powder instead of traditional beef or poultry and contain sweet potato. Insects contain high-value protein and won ...</p>
        <div class="news-date">2025-04-08</div>
    </div>
    
    <div class="news-card">
        <span class="company-tag">Aeromutable</span>
        
        <h3 class="news-title">No news</h3>
        <div class="news-source"></div>
        <p></p>
        
    </div>
    
    </div>
    <p class="timestamp">Last updated: 2025-05-07<br>Please reload this web page by pressing shortcut keys — Command (⌘)-R on Mac or Ctrl+R on Windows — if date appears older than a week.</p>
    
    <!-- Chatbot UI - Added title attribute and more visible text -->
    <button class="chat-toggle-button" title="Open Chat Assistant">💬</button>
    <div class="chatbot-container">
        <div class="chatbot-header">
            <span class="chatbot-title">News Assistant</span>
            <span class="close-chat" style="cursor: pointer;">✕</span>
        </div>
        <div class="chatbot-messages">
            <div class="message bot-message">
                Hi! I'm your news assistant. Ask me anything about the news articles on this page.
            </div>
        </div>
        <div class="chatbot-input">
            <input type="text" placeholder="Ask a question...">
            <button>Send</button>
        </div>
    </div>
    
    <script>
        const newsData = [{"company": "Unaliwear", "title": "No news", "url": "", "source": "", "body": "", "date": "2025-05-07", "full_content": "", "extraction_status": "not_attempted"}, {"company": "BrainCheck", "title": "Healthee heads latest crop of digital health financings", "url": "https://pharmaphorum.com/news/healthee-heads-latest-crop-digital-health-financings", "source": "pharmaphorum", "body": "Our latest round-up of funding rounds in the digital health category features updates from Healthee, Aktiia, Moxe Health, Eleanor Health, Tava Health, BrainCheck, and Redi Health. Healthee has ...", "date": "2025-03-26", "full_content": "Our latest round-up of funding rounds in the digital health category features updates from Healthee, Aktiia, Moxe Health, Eleanor Health, Tava Health, BrainCheck, and Redi Health.\n\nHealtheehas raised $32 million in a Series A that will be used to scale up its operations, which are focused on a platform that provides a digital conduit between employees and their health plans. It answers questions about coverage, treatment, and benefits, provides advice on preventative care, and helps employers with the enrolment process.\n\nThe round was co-led by Fin Capital, Glilot Capital Partners, and Group11, with strategic partner TriNet also taking part. It will also be used for product development, according to the Israeli company, which was formed in 2018.\n\nSwitzerland\u2019sAktiiahas raised CHF 27 million ($30 million) from investors including Redalpine and Khosla Ventures for the rollout and development of its wearable wristband device, which uses photoplethysmography technology to provide continuous blood pressure monitoring over a 24-hour period by detecting blood volume changes in small blood vessels.\n\nThe device is already approved in 44 countries and available in Switzerland, Germany, France, Austria, Italy, the UK, and the Republic of Ireland, and have been used in more than 60,000 patients. Aktiia will use the new funding in part to fund an expansion into the US market.\n\nHealthcare data exchange specialistMoxe Healthhas raised $25 million from investor Trinity Capital to support the development of its technology platform, used for the secure exchange of clinical and other sensitive data between healthcare payers and providers.\n\nIt is designed to provide a solution to the current problem of health data being in different formats and silos, with the aim of reducing administrative waste, relieving pressure on healthcare staff, eliminating duplicative efforts, and ultimately lowering costs. The latest cash infusion follows a $30 million second round in 2022 and a $5.5 million Series A for the Madison, Wisconsin-based company.\n\nEleanor Health, a company providing digital and face-to-face support for people struggling with substance use disorders (SUDs) and their families, has raised $22 million in an equity raise, according to a filing with the Securities and Exchange Commission (SEC).\n\nThe Massachusetts-based start-up \u2013 which recently saw founding CEO Corbin Petro step down and be replaced by William McKinney \u2013 offers personalised addiction treatment either virtually or in person through a series of clinics in six US states. The latest round comes after it raised $50 million in Series C funding in 2022 and takes the total raised to date above the $100 million mark.\n\nNew York-basedTava Healthhas closed a $20 million Series B led by Catalyst Investors and featuring existing investors Peterson Partners, Toba Capital, and SpringTide, along with new backer Blue Heron Capital.\n\nThe company provides a telemedicine platform focused on mental health, connecting patients to therapists and supporting healthcare providers with practice management software, electronic medical records, and interactions with employers and health insurance companies. It said the new money would be used for product development, expansion of its provider network, and fostering new agreements with payers.\n\nBrainCheckhas raised $15 million that will be used to fuel the expansion and take-up of a recently launched update to its BrainCheck Screen digital cognitive assessment and care planning software for people with dementia. The app allows testing to be carried out on any internet-connect device and delivers an initial assessment in three minutes.\n\nThe financing round was led by Next Coast Ventures, S3 Ventures, and UPMC Enterprises, according to the Austin, Texas-based company, which said it would help accelerate the rollout of the new version.\n\nFinally, analytics companyRedi Healthhas closed a $14 million second round led by Blue Heron Capital that will be used to develop and expand its digital patient support programme (PSP) for people suffering from chronic health conditions.\n\nThe Columbus, Ohio start-up provides a number of services to its customers, including an app that tracks medications, symptoms, diet, and weight, and allows them to communicate and share progress with healthcare providers and link to other pertinent organisations, like drugmakers, pharmacies, and payers. It was founded in 2022, raising just under $4 million in a first round in 2022.", "extraction_status": "cached"}, {"company": "Dermala", "title": "No news", "url": "", "source": "", "body": "", "date": "2025-05-07", "full_content": "", "extraction_status": "not_attempted"}, {"company": "Oralucent", "title": "No news", "url": "", "source": "", "body": "", "date": "2025-05-07", "full_content": "", "extraction_status": "not_attempted"}, {"company": "Flowly", "title": "No news", "url": "", "source": "", "body": "", "date": "2025-05-07", "full_content": "", "extraction_status": "not_attempted"}, {"company": "Rosy Wellness", "title": "No news", "url": "", "source": "", "body": "", "date": "2025-05-07", "full_content": "", "extraction_status": "not_attempted"}, {"company": "De Oro Devices", "title": "No news", "url": "", "source": "", "body": "", "date": "2025-05-07", "full_content": "", "extraction_status": "not_attempted"}, {"company": "Partum Health", "title": "No news", "url": "", "source": "", "body": "", "date": "2025-05-07", "full_content": "", "extraction_status": "not_attempted"}, {"company": "Fort Health", "title": "No news", "url": "", "source": "", "body": "", "date": "2025-05-07", "full_content": "", "extraction_status": "not_attempted"}, {"company": "RubyWell", "title": "No news", "url": "", "source": "", "body": "", "date": "2025-05-07", "full_content": "", "extraction_status": "not_attempted"}, {"company": "Atlantic Sea Farms", "title": "No news", "url": "", "source": "", "body": "", "date": "2025-05-07", "full_content": "", "extraction_status": "not_attempted"}, {"company": "VidaFuel", "title": "No news", "url": "", "source": "", "body": "", "date": "2025-05-07", "full_content": "", "extraction_status": "not_attempted"}, {"company": "Aloqia", "title": "Shein increases use of deadstock fabric by 40% in 2024", "url": "https://www.msn.com/en-xl/news/other/shein-increases-use-of-deadstock-fabric-by-40-in-2024/ar-AA1CbCXN", "source": "MSN", "body": "Since 2022, Shein has sourced over 47,900 metres of deadstock fabric through Aloqia, leading to estimated savings of 357,600 cubic metres of water, 7,400 kilograms of chemicals, and 70 metric tons ...", "date": "2025-04-03", "full_content": "Note: Content could not be properly extracted from this source. Using summary instead.\n\nSince 2022, Shein has sourced over 47,900 metres of deadstock fabric through Aloqia, leading to estimated savings of 357,600 cubic metres of water, 7,400 kilograms of chemicals, and 70 metric tons ...", "extraction_status": "content_too_short"}, {"company": "Refiberd", "title": "eBay invests $300k in Refiberd to boost circular fashion with AI", "url": "https://www.msn.com/en-us/money/companies/ebay-invests-300k-in-refiberd-to-boost-circular-fashion-with-ai/ar-AA1CLdiz", "source": "MSN", "body": "eBay hopes the investment will enhance the reach of Refiberd's advanced AI system, which can identify the composition of textiles to ensure proper sorting and recycling. Refiberd uses its ...", "date": "2025-04-11", "full_content": "Note: Content could not be properly extracted from this source. Using summary instead.\n\neBay hopes the investment will enhance the reach of Refiberd's advanced AI system, which can identify the composition of textiles to ensure proper sorting and recycling. Refiberd uses its ...", "extraction_status": "content_too_short"}, {"company": "Refiberd", "title": "'What are your clothes made of?' is a deceptively difficult question. AI can help answer it.", "url": "https://www.businessinsider.com/artificial-intelligence-technology-sustainable-textile-recycling-solutions-2024-6", "source": "Business Insider", "body": "AI can help enhance garment-sorting accuracy in the fashion industry. The company Refiberd uses AI and sensors to identify recyclable textiles that can be repurposed. This article is part of ...", "date": "2024-06-03", "full_content": "For decades, thefashion industry has had an unlimited-growth mindset, fueled by cheap production and opacity. Even a seemingly simple question like \"What are your clothes made of?\" can flummox brands because fashion supply chains are so lengthy and far-flung.\n\nIt doesn't have to be this way, and AI could become a major force for a more sustainable industry.\n\nIn the past few years, brands have been accused of mislabeling their garments'fabric compositionandcountry of origin. A study conducted in the Netherlands involving about 7,000 garments found that41% of the garmentshad been mislabeled. Mislabeling poses an issue not just for curious consumers but for textile recyclers, who need to know exactly which fabrics they're dealing with in order to process them effectively.\n\nRecycling technologieshave improved over the past few decades, but vast piles of clothes need to be sorted first. This can be hard for workers to do accurately, and errors can be costly.\n\nWith their backgrounds intextile engineeringand AI, Sarika Bajaj and Tushita Gupta, the cofounders of Refiberd, spotted this accuracy problem in the late 2010s and understood that AI could help solve it.\n\nTo identify textiles, Refiberd uses AI and a sensor called a hyperspectral camera. \"It's almost like a video camera which pulls out near-infrared data,\" Bajaj told Business Insider. \"Light gets reflected onto our sensor, and that tells us what materials we're dealing with. What you end up with are spectra, graphs that tell you there's an extra 1% here of elastane or an extra 2% there of cotton.\"\n\nRefiberd tech uses a regression-based model, which estimates fabric composition and is more precise than a classification model that sorts materials into broad categories.\n\nBajaj said the regression-based model works with the help of a materials library made up of \"thousands upon thousands of samples,\" allowing Refiberd to \"detect textile material composition within 2% of the actual material composition.\"\n\nTo understand how we got here, it's worth breaking down exactly how fast fashion \u2014 the leading cause of the industry'stextile-waste problem\u2014 is made. Bajaj described the bulk of consumer-bought clothes as a \"notorious mix of blends and contaminants\" often manufactured in various factories worldwide.\n\n\"What we have found is that there's variability at every stage of the process,\" she said.\n\n\"We might see a garment made of organic cotton and think, 'Organic, amazing,'\" Bajaj added. \"Yet the process of dying organic, virgin cotton at a certain level just makes it a plastic.\"\n\nSynthetic dyesin garments require enormous amounts of water and contain contaminants. \"At what point do we still call this pure?\" Bajaj said. \"Then that garment might be sent off to a different factory for cut and sew, but those workers added polyester thread everywhere, and none of that has been accounted for on the label.\"\n\nA lack of regulation in the fashion industry meanscreative solutions are neededto tackle the problem. Leading in this field is the Hong Kong Research Institute of Textiles and Apparel, or HKRITA, known for its sustainability-focused tech.\n\nIn addition to asmart garment-sorting system\u2014 which also uses hyperspectral cameras \u2014 HKRITA has several innovations designed to address what its CEO, Edwin Keh, sees as a deeper-rooted issue in the fashion industry: a refusal to consider product lifespan.\n\n\"There's a lack of thoughtfulness about reuse and second use,\" Keh said.\n\nHe said that whilealuminum beverage cans' high recycling ratescould be attributed partly to their use of a single material, the fashion industry's reliance on material blending to cut costs had complicated recycling. \"We use all sorts of blends and coatings,\" Keh said, \"because we just didn't think about second use.\"\n\nKeh described garment sorting as the \"big bottleneck,\" given how manual it is. But there are other remedies. HKRITA's projects include an AI-powered mechanical recycling system designed to identify reusable indigo-dyed warp yarns in denim and separate them from nonrecyclable synthetic yarns.\n\nBoth Refiberd and HKRITA have received cash awards from the H&M Foundation, a nonprofit funded by the founders of the H&M Group. The foundation, which says it aims to create a more \"socially inclusive and planet positive textile industry,\" has partnered with HKRITA on a program calledPlanet First.\n\nThe novelty of such innovations means securing investment can be a challenge. \"As a philanthropic organization, we can support these ideas when they're at a very critical stage and need funding to further develop, but they're too early for many investors,\" Anna Gedda, the global manager of the H&M Foundation, told BI. \"We can absorb that risk and support them to develop and scale.\"\n\nThe necessity of these solutions can't be underestimated.Tons of unwanted clothesare sent to landfills daily, and tons more are sold to traders who sort through clothes to find items of value and discard the rest. Rejected items aredumped out of sight, often in countries like Ghana, whose secondhand-clothes dealers havetaken a stand against this practice, or in remote locations like Chile's Atacama Desert, recently dubbedfast fashion's great garbage patch.", "extraction_status": "cached"}, {"company": "Jiminy's", "title": "6 Eco-Friendly or Organic Dog Treats from our Pet Editor", "url": "https://www.msn.com/en-us/lifestyle/shopping/6-eco-friendly-or-organic-dog-treats-from-our-pet-editor/ar-AA1oKxmO", "source": "MSN", "body": "Does your dog chase bugs? Jiminy's Cricket Treats are made with cricket protein powder instead of traditional beef or poultry and contain sweet potato. Insects contain high-value protein and won ...", "date": "2025-04-08", "full_content": "Note: Content could not be properly extracted from this source. Using summary instead.\n\nDoes your dog chase bugs? Jiminy's Cricket Treats are made with cricket protein powder instead of traditional beef or poultry and contain sweet potato. Insects contain high-value protein and won ...", "extraction_status": "content_too_short"}, {"company": "Aeromutable", "title": "No news", "url": "", "source": "", "body": "", "date": "2025-05-07", "full_content": "", "extraction_status": "not_attempted"}];
        const DEBUG = true;
    
        document.addEventListener('DOMContentLoaded', () => {
            const chatToggle = document.querySelector('.chat-toggle-button');
            const chatContainer = document.querySelector('.chatbot-container');
            const closeChat = document.querySelector('.close-chat');
            const chatInput = document.querySelector('.chatbot-input input');
            const sendButton = document.querySelector('.chatbot-input button');
            const messagesContainer = document.querySelector('.chatbot-messages');
            
            setTimeout(() => {
                chatContainer.classList.add('active');
                chatToggle.style.display = 'none';
                chatInput.focus();
            }, 1000);
            
            chatToggle.addEventListener('click', () => {
                chatContainer.classList.add('active');
                chatToggle.style.display = 'none';
                chatInput.focus();
            });
            
            closeChat.addEventListener('click', () => {
                chatContainer.classList.remove('active');
                setTimeout(() => {
                    chatToggle.style.display = 'flex';
                }, 300);
            });
            
            function sendMessage() {
                const question = chatInput.value.trim();
                if (!question) return;
                
                addMessage(question, 'user');
                chatInput.value = '';
                
                if (handleFollowUp(question)) {
                    return;
                }
                
                conversationState.currentQuery = question;
                conversationState.mode = 'showing_results';
                conversationState.currentArticleIndex = 0;
                processQuery(question);
            }
            
            function addMessage(text, sender) {
                const message = document.createElement('div');
                message.classList.add('message');
                message.classList.add(sender + '-message');
                message.textContent = text;
                messagesContainer.appendChild(message);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }
            
            function addMessageWithCitation(text, citation, url) {
                const messageContainer = document.createElement('div');
                
                const message = document.createElement('div');
                message.classList.add('message');
                message.classList.add('bot-message');
                message.textContent = text;
                
                // Create URL link element if URL is provided
                if (url && url !== "#") {
                    const linkElement = document.createElement('div');
                    linkElement.classList.add('source-link');
                    const link = document.createElement('a');
                    link.href = url;
                    link.target = "_blank"; // Open in new tab
                    link.textContent = url;
                    linkElement.appendChild(link);
                    messageContainer.appendChild(message);
                    messageContainer.appendChild(linkElement);
                } else {
                    // No URL, just add the message
                    messageContainer.appendChild(message);
                }
                
                messagesContainer.appendChild(messageContainer);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }
            
            function processQuery(question) {
                const lowerQuestion = question.toLowerCase();
                
                if (DEBUG) {
                    console.log('Processing query:', question);
                    console.log('Available articles:', newsData.length);
                }
                
                const isCompanyQuery = lowerQuestion.split(' ').length <= 3;
                
                if (isCompanyQuery) {
                    const allCompanies = [...new Set(newsData.map(article => article.company.toLowerCase()))];
                    console.log('All companies:', allCompanies);
                    
                    const exactCompanyMatch = allCompanies.find(company => 
                        company.toLowerCase() === lowerQuestion.trim()
                    );
                    
                    const validPartialMatch = allCompanies.some(company => {
                        const companyWords = company.toLowerCase().split(/\s+/);
                        const queryWords = lowerQuestion.toLowerCase().trim().split(/\s+/);
                        
                        if (company.toLowerCase() === lowerQuestion.toLowerCase().trim()) {
                            return true;
                        }
                        
                        if (company.toLowerCase().includes(lowerQuestion.toLowerCase().trim())) {
                            return true;
                        }
                        
                        if (lowerQuestion.toLowerCase().trim().includes(company.toLowerCase())) {
                            return true;
                        }
                        
                        if (companyWords.length > 1) {
                            if (queryWords.includes(companyWords[0]) && companyWords[0].length > 3) {
                                return true;
                            }
                            
                            const companyPhrase = companyWords.join(' ');
                            const queryPhrase = queryWords.join(' ');
                            
                            for (let i = 0; i < companyWords.length - 1; i++) {
                                const phrase = companyWords[i] + ' ' + companyWords[i+1];
                                if (queryPhrase.includes(phrase)) {
                                    return true;
                                }
                            }
                        }
                        
                        return false;
                    });
                    
                    const companyExists = exactCompanyMatch !== undefined || validPartialMatch;
                    
                    if (!companyExists) {
                        addMessage(`I'm sorry, I don't have any news articles about "${lowerQuestion}". Would you like information about another company?`, 'bot');
                        conversationState.mode = 'initial';
                        return;
                    }
                }
                
                let keywords = [];
                
                const quoteRegex = /"([^"]+)"/g;
                let quoteMatch;
                while ((quoteMatch = quoteRegex.exec(question)) !== null) {
                    keywords.push(quoteMatch[1].toLowerCase());
                }
                
                const stopWords = new Set([
                    'a', 'an', 'the', 'and', 'or', 'but', 'is', 'are', 'was', 'were', 
                    'to', 'of', 'in', 'on', 'at', 'by', 'for', 'with', 'about', 'from',
                    'these', 'those', 'this', 'that', 'have', 'has', 'had', 'do', 'does',
                    'did', 'can', 'could', 'will', 'would', 'should', 'may', 'might'
                ]);
                
                const wordKeywords = lowerQuestion
                    .replace(/[^a-zA-Z0-9 ]/g, ' ')
                    .split(' ')
                    .filter(word => word.length > 2 && !stopWords.has(word.toLowerCase()));
                    
                keywords = [...keywords, ...wordKeywords];
                
                if (DEBUG) {
                    console.log('Extracted keywords:', keywords);
                }
                
                let relevantArticles = [];
                newsData.forEach(article => {
                    let score = 0;
                    const title = article.title.toLowerCase();
                    const body = article.body.toLowerCase();
                    const fullContent = article.full_content ? article.full_content.toLowerCase() : '';
                    const company = article.company.toLowerCase();
                    
                    if (company && lowerQuestion.includes(company)) {
                        score += 15;
                    }
                    
                    if (company && lowerQuestion.trim() === company) {
                        score += 30;
                    }
                    
                    if (company && lowerQuestion.trim().startsWith(company)) {
                        score += 25;
                    }
                    if (company && company.startsWith(lowerQuestion.trim())) {
                        score += 20;
                    }
                    
                    if (isCompanyQuery && company && !company.includes(lowerQuestion) && !lowerQuestion.includes(company)) {
                        const companyFirstWord = company.split(' ')[0].toLowerCase();
                        const queryFirstWord = lowerQuestion.trim().split(' ')[0].toLowerCase();
                        
                        if (companyFirstWord !== queryFirstWord) {
                            score -= 50;
                        }
                    }
                    
                    if (fullContent && fullContent.includes(lowerQuestion)) {
                        score += 10;
                    }
                    
                    keywords.forEach(keyword => {
                        if (company && keyword.length > 2 && company === keyword) {
                            score += 18;
                        }
                        else if (company && keyword.length > 2 && company.includes(keyword)) {
                            score += 5;
                        }
                        if (company && keyword.length > 2 && keyword.includes(company)) {
                            score += 10;
                        }
                        
                        if (title.includes(keyword)) score += 5;
                        if (body.includes(keyword)) score += 3;
                        
                        if (fullContent) {
                            if (keyword.length > 10 && fullContent.includes(keyword)) {
                                score += 8;
                            } else if (fullContent.includes(keyword)) {
                                score += 2;
                            }
                            
                            const keywordRegex = new RegExp(keyword, 'gi');
                            const occurrences = (fullContent.match(keywordRegex) || []).length;
                            score += Math.min(occurrences, 5) * 0.5;
                        }
                    });
                    
                    if (lowerQuestion.includes('who') || lowerQuestion.includes('person')) {
                        const nameRegex = /([A-Z][a-z]+ [A-Z][a-z]+)/g;
                        const names = fullContent ? (fullContent.match(nameRegex) || []) : [];
                        if (names.length > 0) score += 2;
                    }
                    
                    if (score > 0) {
                        if (DEBUG) {
                            console.log(`Article: ${article.title}, Score: ${score}`);
                        }
                        relevantArticles.push({...article, score});
                    }
                });
                
                relevantArticles.sort((a, b) => b.score - a.score);
                
                conversationState.relevantArticles = relevantArticles;
                conversationState.currentArticleIndex = 0;
                
                if (DEBUG) {
                    console.log('Relevant articles found:', relevantArticles.length);
                    if (relevantArticles.length > 0) {
                        console.log('Top article:', relevantArticles[0].title);
                        console.log('Top score:', relevantArticles[0].score);
                    }
                }
                
                if (relevantArticles.length > 0) {
                    const mostRelevant = relevantArticles[0];
                    let response = "";
                    
                    let informativeSnippet = '';
                    if (mostRelevant.full_content) {
                        const fullContent = mostRelevant.full_content;
                        
                        const paragraphs = fullContent.split(/\n+/)
                            .filter(p => p.trim().length > 50);
                        
                        let foundRelevantSnippet = false;
                        for (const paragraph of paragraphs) {
                            const lowerPara = paragraph.toLowerCase();
                            const matchedKeywords = keywords.filter(kw => lowerPara.includes(kw));
                            
                            if (matchedKeywords.length >= 2) {
                                informativeSnippet = paragraph.trim().substring(0, 300) + '...';
                                foundRelevantSnippet = true;
                                break;
                            }
                        }
                        
                        if (!foundRelevantSnippet) {
                            for (const paragraph of paragraphs) {
                                if (keywords.some(keyword => paragraph.toLowerCase().includes(keyword))) {
                                    informativeSnippet = paragraph.trim().substring(0, 300);
                                    foundRelevantSnippet = true;
                                    break;
                                }
                            }
                        }
                        
                        if (!foundRelevantSnippet && fullContent.length > 0) {
                            if (fullContent.length > 500) {
                                const middleStart = Math.floor(fullContent.length / 3);
                                const middleContent = fullContent.substring(middleStart, middleStart + 500);
                                const sentences = middleContent.split(/[.!?] /).filter(s => s.length > 30);
                                
                                if (sentences.length > 0) {
                                    informativeSnippet = sentences[0].trim();
                                } else {
                                    informativeSnippet = fullContent.substring(0, 300);
                                }
                            } else {
                                informativeSnippet = fullContent.substring(0, 300);
                            }
                        }
                    }
                    
                    if (lowerQuestion.includes('what') && lowerQuestion.includes('company')) {
                        response = `${mostRelevant.company}: Based on the news, ${mostRelevant.company} has been mentioned in relation to: "${mostRelevant.title}"`;
                    } else if (lowerQuestion.includes('latest') || lowerQuestion.includes('recent')) {
                        response = `${mostRelevant.company}: The latest news I found is: "${mostRelevant.title}". ${mostRelevant.body.substring(0, 150)}`;
                    } else if (informativeSnippet) {
                        response = `${mostRelevant.company}: ${informativeSnippet}`;
                    } else {
                        response = `${mostRelevant.company}: ${mostRelevant.title} ${mostRelevant.body.substring(0, 150)}`;
                    }
                    
                    addMessageWithCitation(response, `${mostRelevant.source}`, mostRelevant.url);
                    
                    if (relevantArticles.length > 1) {
                        setTimeout(() => {
                            addMessage(`I also found ${relevantArticles.length - 1} more articles that might be relevant. Would you like to know more about any specific topic?`, 'bot');
                            conversationState.mode = 'offering_more';
                        }, 1000);
                    }
                } else {
                    addMessage(`I couldn't find any information about that in the current news articles. Could you try asking something else?`, 'bot');
                    conversationState.mode = 'initial';
                }
            }
            
            const conversationState = {
                mode: 'initial',
                currentQuery: '',
                relevantArticles: [],
                currentArticleIndex: 0
            };
            
            function handleFollowUp(response) {
                const lowerResponse = response.toLowerCase().trim();
                
                if (conversationState.mode === 'offering_more' && 
                    (lowerResponse === 'yes' || lowerResponse === 'sure' || 
                     lowerResponse === 'ok' || lowerResponse.includes('yes'))) {
                    
                    if (conversationState.relevantArticles.length > conversationState.currentArticleIndex + 1) {
                        conversationState.currentArticleIndex++;
                        const nextArticle = conversationState.relevantArticles[conversationState.currentArticleIndex];
                        
                        let response = '';
                        if (nextArticle.full_content) {
                            const snippet = nextArticle.full_content.substring(0, 300);
                            response = `${nextArticle.company}: ${snippet}`;
                        } else {
                            response = `${nextArticle.company}: ${nextArticle.title}. ${nextArticle.body.substring(0, 150)}`;
                        }
                        
                        addMessageWithCitation(response, `${nextArticle.source}`, nextArticle.url);
                        
                        const remaining = conversationState.relevantArticles.length - conversationState.currentArticleIndex - 1;
                        if (remaining > 0) {
                            setTimeout(() => {
                                addMessage(`I have ${remaining} more articles that might interest you. Would you like to see another one?`, 'bot');
                            }, 1000);
                        } else {
                            setTimeout(() => {
                                addMessage(`That's all the relevant articles I found. Is there something else you'd like to know about?`, 'bot');
                                conversationState.mode = 'initial';
                            }, 1000);
                        }
                        return true;
                    }
                }
                
                return false;
            }
            
            sendButton.addEventListener('click', sendMessage);
            chatInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') sendMessage();
            });
            
            chatToggle.style.display = 'none';
            chatToggle.style.opacity = '1';
            
            setTimeout(() => {
                chatToggle.classList.add('attention');
            }, 2000);
        });
    
    </script>
</body>
</html>
